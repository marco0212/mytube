(this["webpackJsonpmy-tube"]=this["webpackJsonpmy-tube"]||[]).push([[0],{18:function(e,t,a){e.exports=a(33)},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(15),s=a.n(i),l=a(1),r=a(9),o=a(4),m=a(5),u=a(7),d=a(6),h=a(8);function p(){return c.a.createElement("div",{className:"d-flex justify-content-center loading flex-grow-1"},c.a.createElement("div",{className:"spinner-border text-primary my-auto",role:"status",style:{width:"4rem",height:"4rem"}},c.a.createElement("span",{className:"sr-only"},"Loading...")))}function v(e){var t=e.id,a=e.thumbnailUrl;return c.a.createElement(l.b,{to:"/watch/".concat(t),className:"video-thumb mb-3",style:{backgroundImage:"url(".concat(a,")")}})}var b="AIzaSyCcE593L6gG9TKsdj_dFcNrVCd1CuL5ORM";function f(e,t){return fetch("https://www.googleapis.com/youtube/v3/channels?part=snippet&id=".concat(e,"&key=").concat(b)).then((function(e){return e.json()})).then((function(e){var a=e.items;t(a[0])}))}function E(e){var t=((new Date).getTime()-new Date(e).getTime())/1e3,a=Math.floor(t/60),n=Math.floor(a/60),c=Math.floor(n/24),i=Math.floor(c/30),s=Math.floor(i/12);return s?"".concat(s,"\ub144 \uc804"):i?"".concat(i,"\uac1c\uc6d4 \uc804"):c?"".concat(c,"\uc77c \uc804"):n?"".concat(n,"\uc2dc\uac04 \uc804"):"".concat(a,"\ubd84 \uc804")}function g(e){var t=e.src,a=e.title;return c.a.createElement("div",{className:"channel-thumb-area mr-3"},c.a.createElement("div",{className:"img-wrap rounded-circle overflow-hidden"},t&&c.a.createElement("img",{src:t,className:"img-fluid",alt:a})))}var y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={chThumb:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;f(this.props.chId,(function(t){e.setState({chThumb:t.snippet.thumbnails.default.url})}))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.title,n=e.thumbnailUrl,i=e.chTitle,s=e.time;return c.a.createElement("div",{className:"col-md-6 col-sm-12 col-lg-4 mb-3"},c.a.createElement("div",{className:"video-item"},c.a.createElement(v,{id:t,thumbnailUrl:n}),c.a.createElement("div",{className:" d-flex"},c.a.createElement(g,{title:i,src:this.state.chThumb}),c.a.createElement("div",{className:"video-info-area"},c.a.createElement("h5",null,c.a.createElement(l.b,{to:"/watch/".concat(t),className:"text-dark"},a)),c.a.createElement("ul",null,c.a.createElement("li",{className:"text-muted"},i),c.a.createElement("li",{className:"text-muted"},E(s)))))))}}]),t}(c.a.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getPopularVideos=function(){var e;e=function(e){a.setState({isLoading:!1,videoData:e})},fetch("https://www.googleapis.com/youtube/v3/videos?part=snippet&chart=mostPopular&maxResults=9&key=".concat(b)).then((function(e){return e.json()})).then((function(t){var a=t.items;e(a)}))},a.state={isLoading:!0,videoData:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getPopularVideos()}},{key:"render",value:function(){return this.state.isLoading?c.a.createElement(p,null):c.a.createElement("div",{className:"container pt-4 home-wrapper"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h3",{className:"mb-4"},"Most Popular Videos")),this.state.videoData.map((function(e){var t=e.id,a=e.snippet.title,n=e.snippet.thumbnails.high.url,i=e.snippet.channelId,s=e.snippet.channelTitle,l=e.snippet.publishedAt;return c.a.createElement(y,{id:t,title:a,thumbnailUrl:n,chId:i,chTitle:s,time:l,key:t})}))))}}]),t}(c.a.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getSearchedVideos=function(e){!function(e,t){fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&q=".concat(e,"&maxResults=10&order=relevance&key=").concat(b)).then((function(e){return e.json()})).then((function(e){var a=e.items;t(a)}))}(e,(function(e){e?a.setState({isLoading:!1,data:e}):a.props.history.push("/")}))},a.state={isLoading:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getSearchedVideos(this.props.match.params.keyword)}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.keyword;e.match.params.keyword!==t&&this.getSearchedVideos(t)}},{key:"componentWillUnmount",value:function(){this.setState({isLoading:!0})}},{key:"render",value:function(){return this.state.isLoading?c.a.createElement(p,null):c.a.createElement("div",{className:"container pt-4 search-wrapper"},this.state.data.map((function(e){return c.a.createElement("div",{className:"row",key:e.id.videoId},c.a.createElement("div",{className:"col-3 col-sm-6 col-md-5 col-lg-3"},c.a.createElement("div",{className:"thumb-area"},c.a.createElement(v,{id:e.id.videoId,thumbnailUrl:e.snippet.thumbnails.high.url}))),c.a.createElement("div",{className:"col-9 col-sm-6 col-md-7 col-lg-9"},c.a.createElement("div",{className:"info-area"},c.a.createElement("h5",null,c.a.createElement(l.b,{to:"/watch/".concat(e.id.videoId),className:"text-dark"},e.snippet.title)),c.a.createElement("ul",{className:"mb-5"},c.a.createElement("li",{className:"text-muted mb-2"},"".concat(e.snippet.channelTitle," \xb7 ").concat(E(e.snippet.publishedAt))),c.a.createElement("li",{className:"text-muted description"},e.snippet.description)))))})))}}]),t}(c.a.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getVideoById=function(e){!function(e,t){fetch("https://www.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(e,"&key=").concat(b)).then((function(e){return e.json()})).then((function(e){var a=e.items;t(a[0])}))}(e,(function(t){t?(a.setState({data:t}),function(e,t){fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&relatedToVideoId=".concat(e,"&type=video&maxResults=5&key=").concat(b)).then((function(e){return e.json()})).then((function(e){var a=e.items;t(a)}))}(e,(function(e){a.setState({relatedVideo:e}),f(a.state.data.snippet.channelId,(function(e){a.setState({chThumb:e.snippet.thumbnails.default.url,isLoading:!1})}))}))):a.props.history.push("/")}))},a.state={isLoading:!0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.id;e.match.params.id!==t&&this.getVideoById(t)}},{key:"componentDidMount",value:function(){this.getVideoById(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.setState({isLoading:!0})}},{key:"render",value:function(){var e;return this.state.isLoading?c.a.createElement(p,null):c.a.createElement("div",{className:"container pt-4 watch-wrapper"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8"},c.a.createElement("div",{className:"player-area"},c.a.createElement("div",{className:"embed-responsive embed-responsive-16by9 mb-4"},c.a.createElement("iframe",{src:(e=this.state.data.id,"https://www.youtube.com/embed/".concat(e)),className:"embed-responsive-item",allowFullScreen:"1",title:this.state.data.snippet.title})),c.a.createElement("h3",{className:"mb-3"},this.state.data.snippet.title),c.a.createElement("div",{className:"video-info-area"},c.a.createElement("div",{className:"d-flex align-items-center mb-3"},c.a.createElement(g,{src:this.state.chThumb,title:this.state.data.snippet.title}),c.a.createElement("p",{className:"h5 mb-0"},this.state.data.snippet.channelTitle)),c.a.createElement("ul",{className:"tags d-flex flex-wrap"},this.state.data.snippet.tags?this.state.data.snippet.tags.slice(0,10).map((function(e){return c.a.createElement("li",{key:e,className:"mr-2"},c.a.createElement(l.b,{to:"/search/".concat(e),className:"badge badge-info h5"},"#".concat(e)))})):null),c.a.createElement("p",null,this.state.data.snippet.description)))),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement("aside",{className:"related-video-area"},this.state.relatedVideo.map((function(e,t){return c.a.createElement("div",{className:"video-item",key:e.id.videoId},c.a.createElement("div",{className:"thumb-area"},c.a.createElement(v,{id:e.id.videoId,thumbnailUrl:e.snippet.thumbnails.high.url})),c.a.createElement("div",{className:"text-area"},c.a.createElement("h5",null,c.a.createElement(l.b,{to:"/watch/".concat(e.id.videoId),className:"text-dark"},e.snippet.title)),c.a.createElement("ul",null,c.a.createElement("li",null,e.snippet.channelTitle),c.a.createElement("li",null,E(e.snippet.publishedAt)))))}))))))}}]),t}(c.a.Component),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={inputText:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handlerOnSubmit",value:function(e){e.preventDefault(),this.props.history.push("/search/".concat(this.state.inputText))}},{key:"handlerOnChange",value:function(e){this.setState({inputText:e.target.value})}},{key:"render",value:function(){return c.a.createElement("header",{className:"py-3 bg-dark sticky-top"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h1",{className:"logo mr-sm-3 my-auto"},c.a.createElement(l.b,{to:"/",className:"text-white"},"MYTUBE")),c.a.createElement("form",{className:"d-flex my-auto",onSubmit:this.handlerOnSubmit.bind(this)},c.a.createElement("input",{className:"form-control form-control-lg mr-3 mr-sm-1",placeholder:"Search",onChange:this.handlerOnChange.bind(this)}),c.a.createElement("button",{className:"btn btn-outline-success btn-lg"},"Search")))))))}}]),t}(c.a.Component);a(31),a(32);s.a.render(c.a.createElement((function(){return c.a.createElement(l.a,null,c.a.createElement(r.a,{path:"/",component:j}),c.a.createElement(r.c,null,c.a.createElement(r.a,{path:"/search/:keyword",component:w}),c.a.createElement(r.a,{path:"/watch/:id",component:k}),c.a.createElement(r.a,{exact:!0,path:"/",component:N})))}),null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.c233a3bc.chunk.js.map